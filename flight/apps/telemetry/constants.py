# Index constants for accessing data in the Data Handler

from micropython import const


class CDH_IDX:
    TIME = const(0)
    SC_STATE = const(1)
    SD_USAGE = const(2)
    CURRENT_RAM_USAGE = const(3)
    REBOOT_COUNT = const(4)
    WATCHDOG_TIMER = const(5)
    HAL_BITFLAGS = const(6)
    DETUMBLING_ERROR_FLAG = const(7)


class EPS_IDX:
    TIME_EPS = const(0)
    EPS_POWER_FLAG = const(1)
    MAINBOARD_TEMPERATURE = const(2)
    MAINBOARD_VOLTAGE = const(3)
    MAINBOARD_CURRENT = const(4)
    BATTERY_PACK_TEMPERATURE = const(5)
    BATTERY_PACK_REPORTED_SOC = const(6)
    BATTERY_PACK_REPORTED_CAPACITY = const(7)
    BATTERY_PACK_CURRENT = const(8)
    BATTERY_PACK_VOLTAGE = const(9)
    BATTERY_PACK_MIDPOINT_VOLTAGE = const(10)
    BATTERY_PACK_TTE = const(11)
    BATTERY_PACK_TTF = const(12)
    XP_COIL_VOLTAGE = const(13)
    XP_COIL_CURRENT = const(14)
    XM_COIL_VOLTAGE = const(15)
    XM_COIL_CURRENT = const(16)
    YP_COIL_VOLTAGE = const(17)
    YP_COIL_CURRENT = const(18)
    YM_COIL_VOLTAGE = const(19)
    YM_COIL_CURRENT = const(20)
    ZP_COIL_VOLTAGE = const(21)
    ZP_COIL_CURRENT = const(22)
    ZM_COIL_VOLTAGE = const(23)
    ZM_COIL_CURRENT = const(24)
    JETSON_INPUT_VOLTAGE = const(25)
    JETSON_INPUT_CURRENT = const(26)
    RF_LDO_OUTPUT_VOLTAGE = const(27)
    RF_LDO_OUTPUT_CURRENT = const(28)
    GPS_VOLTAGE = const(29)
    GPS_CURRENT = const(30)
    XP_SOLAR_CHARGE_VOLTAGE = const(31)
    XP_SOLAR_CHARGE_CURRENT = const(32)
    XM_SOLAR_CHARGE_VOLTAGE = const(33)
    XM_SOLAR_CHARGE_CURRENT = const(34)
    YP_SOLAR_CHARGE_VOLTAGE = const(35)
    YP_SOLAR_CHARGE_CURRENT = const(36)
    YM_SOLAR_CHARGE_VOLTAGE = const(37)
    YM_SOLAR_CHARGE_CURRENT = const(38)
    ZP_SOLAR_CHARGE_VOLTAGE = const(39)
    ZP_SOLAR_CHARGE_CURRENT = const(40)
    ZM_SOLAR_CHARGE_VOLTAGE = const(41)
    ZM_SOLAR_CHARGE_CURRENT = const(42)


class EPS_WARNING_IDX:
    TIME_EPS_WARNING = const(0)
    MAINBOARD_POWER_ALERT = const(1)
    RADIO_POWER_ALERT = const(2)
    JETSON_POWER_ALERT = const(3)
    XP_COIL_POWER_ALERT = const(4)
    XM_COIL_POWER_ALERT = const(5)
    YP_COIL_POWER_ALERT = const(6)
    YM_COIL_POWER_ALERT = const(7)
    ZP_COIL_POWER_ALERT = const(8)
    ZM_COIL_POWER_ALERT = const(9)


class ADCS_IDX:
    TIME_ADCS = const(0)
    MODE = const(1)
    GYRO_X = const(2)
    GYRO_Y = const(3)
    GYRO_Z = const(4)
    MAG_X = const(5)
    MAG_Y = const(6)
    MAG_Z = const(7)
    SUN_STATUS = const(8)
    SUN_VEC_X = const(9)
    SUN_VEC_Y = const(10)
    SUN_VEC_Z = const(11)
    LIGHT_SENSOR_XP = const(12)
    LIGHT_SENSOR_XM = const(13)
    LIGHT_SENSOR_YP = const(14)
    LIGHT_SENSOR_YM = const(15)
    LIGHT_SENSOR_ZP1 = const(16)
    LIGHT_SENSOR_ZP2 = const(17)
    LIGHT_SENSOR_ZP3 = const(18)
    LIGHT_SENSOR_ZP4 = const(19)
    LIGHT_SENSOR_ZM = const(20)
    XP_COIL_STATUS = const(21)
    XM_COIL_STATUS = const(22)
    YP_COIL_STATUS = const(23)
    YM_COIL_STATUS = const(24)
    ZP_COIL_STATUS = const(25)
    ZM_COIL_STATUS = const(26)
    ATTITUDE_QW = const(27)
    ATTITUDE_QX = const(28)
    ATTITUDE_QY = const(29)
    ATTITUDE_QZ = const(30)


class GPS_IDX:
    TIME_GPS = const(0)
    GPS_MESSAGE_ID = const(1)
    GPS_FIX_MODE = const(2)
    GPS_NUMBER_OF_SV = const(3)
    GPS_GNSS_WEEK = const(4)
    GPS_GNSS_TOW = const(5)
    GPS_LATITUDE = const(6)
    GPS_LONGITUDE = const(7)
    GPS_ELLIPSOID_ALT = const(8)
    GPS_MEAN_SEA_LVL_ALT = const(9)
    GPS_GDOP = const(10)
    GPS_PDOP = const(11)
    GPS_HDOP = const(12)
    GPS_VDOP = const(13)
    GPS_TDOP = const(14)
    GPS_ECEF_X = const(15)
    GPS_ECEF_Y = const(16)
    GPS_ECEF_Z = const(17)
    GPS_ECEF_VX = const(18)
    GPS_ECEF_VY = const(19)
    GPS_ECEF_VZ = const(20)


class PAYLOAD_IDX:
    pass


class STORAGE_IDX:
    NUM_FILES = const(0)
    DIR_SIZE = const(1)


class HAL_IDX:
    TIME_HAL = const(0)
    SDCARD_ERROR = const(1)
    SDCARD_ERROR_COUNT = const(2)
    SDCARD_DEAD = const(3)
    RTC_ERROR = const(4)
    RTC_ERROR_COUNT = const(5)
    RTC_DEAD = const(6)
    GPS_ERROR = const(7)
    GPS_ERROR_COUNT = const(8)
    GPS_DEAD = const(9)
    RADIO_ERROR = const(10)
    RADIO_ERROR_COUNT = const(11)
    RADIO_DEAD = const(12)
    IMU_ERROR = const(13)
    IMU_ERROR_COUNT = const(14)
    IMU_DEAD = const(15)
    FUEL_GAUGE_ERROR = const(16)
    FUEL_GAUGE_ERROR_COUNT = const(17)
    FUEL_GAUGE_DEAD = const(18)
    BATT_HEATERS_ERROR = const(19)
    BATT_HEATERS_ERROR_COUNT = const(20)
    BATT_HEATERS_DEAD = const(21)
    WATCHDOG_ERROR = const(22)
    WATCHDOG_ERROR_COUNT = const(23)
    WATCHDOG_DEAD = const(24)
    BURN_WIRES_ERROR = const(25)
    BURN_WIRES_ERROR_COUNT = const(26)
    BURN_WIRES_DEAD = const(27)
    BOARD_PWR_ERROR = const(28)
    BOARD_PWR_ERROR_COUNT = const(29)
    BOARD_PWR_DEAD = const(30)
    RADIO_PWR_ERROR = const(31)
    RADIO_PWR_ERROR_COUNT = const(32)
    RADIO_PWR_DEAD = const(33)
    GPS_PWR_ERROR = const(34)
    GPS_PWR_ERROR_COUNT = const(35)
    GPS_PWR_DEAD = const(36)
    JETSON_PWR_ERROR = const(37)
    JETSON_PWR_ERROR_COUNT = const(38)
    JETSON_PWR_DEAD = const(39)
    XP_PWR_ERROR = const(40)
    XP_PWR_ERROR_COUNT = const(41)
    XP_PWR_DEAD = const(42)
    XM_PWR_ERROR = const(43)
    XM_PWR_ERROR_COUNT = const(44)
    XM_PWR_DEAD = const(45)
    YP_PWR_ERROR = const(46)
    YP_PWR_ERROR_COUNT = const(47)
    YP_PWR_DEAD = const(48)
    YM_PWR_ERROR = const(49)
    YM_PWR_ERROR_COUNT = const(50)
    YM_PWR_DEAD = const(51)
    ZP_PWR_ERROR = const(52)
    ZP_PWR_ERROR_COUNT = const(53)
    ZP_PWR_DEAD = const(54)
    TORQUE_XP_ERROR = const(55)
    TORQUE_XP_ERROR_COUNT = const(56)
    TORQUE_XP_DEAD = const(57)
    TORQUE_XM_ERROR = const(58)
    TORQUE_XM_ERROR_COUNT = const(59)
    TORQUE_XM_DEAD = const(60)
    TORQUE_YP_ERROR = const(61)
    TORQUE_YP_ERROR_COUNT = const(62)
    TORQUE_YP_DEAD = const(63)
    TORQUE_YM_ERROR = const(64)
    TORQUE_YM_ERROR_COUNT = const(65)
    TORQUE_YM_DEAD = const(66)
    TORQUE_ZP_ERROR = const(67)
    TORQUE_ZP_ERROR_COUNT = const(68)
    TORQUE_ZP_DEAD = const(69)
    TORQUE_ZM_ERROR = const(70)
    TORQUE_ZM_ERROR_COUNT = const(71)
    TORQUE_ZM_DEAD = const(72)
    LIGHT_XP_ERROR = const(73)
    LIGHT_XP_ERROR_COUNT = const(74)
    LIGHT_XP_DEAD = const(75)
    LIGHT_XM_ERROR = const(76)
    LIGHT_XM_ERROR_COUNT = const(77)
    LIGHT_XM_DEAD = const(78)
    LIGHT_YP_ERROR = const(79)
    LIGHT_YP_ERROR_COUNT = const(80)
    LIGHT_YP_DEAD = const(81)
    LIGHT_YM_ERROR = const(82)
    LIGHT_YM_ERROR_COUNT = const(83)
    LIGHT_YM_DEAD = const(84)
    LIGHT_ZM_ERROR = const(85)
    LIGHT_ZM_ERROR_COUNT = const(86)
    LIGHT_ZM_DEAD = const(87)
    LIGHT_ZP_1_ERROR = const(88)
    LIGHT_ZP_1_ERROR_COUNT = const(89)
    LIGHT_ZP_1_DEAD = const(90)
    LIGHT_ZP_2_ERROR = const(91)
    LIGHT_ZP_2_ERROR_COUNT = const(92)
    LIGHT_ZP_2_DEAD = const(93)
    LIGHT_ZP_3_ERROR = const(94)
    LIGHT_ZP_3_ERROR_COUNT = const(95)
    LIGHT_ZP_3_DEAD = const(96)
    LIGHT_ZP_4_ERROR = const(97)
    LIGHT_ZP_4_ERROR_COUNT = const(98)
    LIGHT_ZP_4_DEAD = const(99)


"""
Helper function to get the number of attributes in a class
This result should be static
"""


def class_length(cls):
    return len([attr for attr in dir(cls) if not callable(getattr(cls, attr)) and not attr.startswith("__")])
